<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GOODGAME - –ú–∞–≥–∞–∑–∏–Ω –∏–≥—Ä</title>
    <style>
        /* --- –°–¢–ò–õ–ò (CSS) --- */
        body {
            font-family: Arial, sans-serif;
            background-color: #171a21; /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ Steam */
            color: #c7d5e0;
            margin: 0;
            padding: 0;
        }

        /* –®–∞–ø–∫–∞ */
        header {
            background-color: #171a21;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #2a475e;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }

        .logo {
            font-size: 28px;
            font-weight: bold;
            color: #66c0f4; /* –ì–æ–ª—É–±–æ–π —Ü–≤–µ—Ç Steam */
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .nav-buttons button {
            background-color: #5c7e10;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 14px;
            border-radius: 2px;
            margin-left: 10px;
        }
        
        .nav-buttons button.secondary {
            background-color: #2a475e;
        }

        .nav-buttons button:hover {
            filter: brightness(1.2);
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä */
        .container {
            max-width: 940px;
            margin: 20px auto;
            padding: 0 20px;
        }

        /* –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å */
        #adminPanel {
            background-color: #1b2838;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #66c0f4;
            display: none; /* –°–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
        }

        h2 { color: #ffffff; border-bottom: 1px solid #2a475e; padding-bottom: 10px; }

        input, textarea {
            width: 100%;
            padding: 10px;
            margin: 5px 0 15px 0;
            background-color: #2a3f5a;
            border: 1px solid #000;
            color: white;
            box-sizing: border-box;
        }

        /* –°–µ—Ç–∫–∞ –∏–≥—Ä */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .game-card {
            background-color: #16202d;
            border: 1px solid #2a475e;
            transition: transform 0.2s;
        }

        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        }

        .game-img {
            width: 100%;
            height: 160px;
            object-fit: cover;
            background-color: #000;
        }

        .game-info {
            padding: 15px;
        }

        .game-title {
            font-size: 18px;
            color: #ffffff;
            margin: 0 0 10px 0;
        }

        .game-desc {
            font-size: 13px;
            color: #8f98a0;
            margin-bottom: 15px;
            height: 60px;
            overflow: hidden;
        }

        .play-btn {
            display: block;
            width: 100%;
            text-align: center;
            background: linear-gradient( to bottom, #47bfff 5%, #1a44c2 60%);
            color: white;
            text-decoration: none;
            padding: 10px 0;
            border-radius: 2px;
        }

        .play-btn:hover {
            background: linear-gradient( to bottom, #66c0f4 5%, #2354e6 60%);
        }

        /* –°–µ–∫—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤ –∏ –¥–µ—Ç–∞–ª–µ–π */
        .interactions {
            margin-top: 10px;
            border-top: 1px solid #333;
            padding-top: 10px;
        }

        .like-btn {
            background: none;
            border: none;
            color: #66c0f4;
            cursor: pointer;
        }

        .reviews-section {
            margin-top: 10px;
            background: #00000030;
            padding: 10px;
            font-size: 12px;
        }

        .review {
            border-bottom: 1px solid #333;
            padding: 5px 0;
        }
        
        .admin-reply {
            margin-left: 20px;
            color: #66c0f4;
            border-left: 2px solid #66c0f4;
            padding-left: 10px;
            margin-top: 5px;
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞ */
        #loginModal {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: #1b2838;
            padding: 40px;
            width: 300px;
            border: 1px solid #2a475e;
            text-align: center;
        }

        .hidden { display: none !important; }
    </style>
</head>
<body>

<div id="loginModal">
    <div class="modal-content">
        <h2 style="margin-top:0">–í—Ö–æ–¥ –≤ GOODGAME</h2>
        <input type="text" id="usernameInput" placeholder="–ù–∏–∫–Ω–µ–π–º">
        <input type="password" id="passwordInput" placeholder="–ü–∞—Ä–æ–ª—å">
        <button class="play-btn" onclick="login()">–í–æ–π—Ç–∏ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
        <p style="font-size: 12px; color: #888;">–ï—Å–ª–∏ –∞–∫–∫–∞—É–Ω—Ç–∞ –Ω–µ—Ç, –æ–Ω –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω.</p>
    </div>
</div>

<header>
    <div class="logo">GOODGAME</div>
    <div class="nav-buttons">
        <span id="userDisplay" style="margin-right: 15px; color: #66c0f4;">–ì–æ—Å—Ç—å</span>
        <button class="secondary" onclick="openSupport()">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</button>
        <button onclick="logout()">–í—ã–π—Ç–∏</button>
    </div>
</header>

<div class="container">
    <div id="adminPanel">
        <h2>üõ† –ü–∞–Ω–µ–ª—å –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (Admin)</h2>
        <p>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É –≤ –º–∞–≥–∞–∑–∏–Ω:</p>
        <input type="text" id="newGameTitle" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã">
        <input type="text" id="newGameImg" placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É (URL)">
        <input type="text" id="newGameLink" placeholder="–°—Å—ã–ª–∫–∞ –Ω–∞ –∏–≥—Ä—É (HTML —Ñ–∞–π–ª –∏–ª–∏ —Å–∞–π—Ç)">
        <textarea id="newGameDesc" rows="3" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –∏–≥—Ä—ã..."></textarea>
        <button class="nav-buttons button" style="background-color: #5c7e10; color: white; padding: 10px; border:none; cursor:pointer;" onclick="publishGame()">–û–ü–£–ë–õ–ò–ö–û–í–ê–¢–¨ –ò–ì–†–£</button>
    </div>

    <h2>–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –Ω–æ–≤–∏–Ω–∫–∏</h2>
    <div class="games-grid" id="gamesContainer">
        </div>
</div>

<script>
    // --- –î–ê–ù–ù–´–ï –ò –ü–ï–†–ï–ú–ï–ù–ù–´–ï ---
    let currentUser = null;
    let isAdmin = false;
    
    // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä –∏–∑ –ø–∞–º—è—Ç–∏ (–∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö, –µ—Å–ª–∏ –ø—É—Å—Ç–æ)
    let games = JSON.parse(localStorage.getItem('goodgame_games')) || [
        {
            id: 1,
            title: "Demo Shooter",
            desc: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —à—É—Ç–µ—Ä. –£–Ω–∏—á—Ç–æ–∂—å –≤—Å–µ—Ö –≤—Ä–∞–≥–æ–≤!",
            img: "https://via.placeholder.com/300x160/000000/ffffff?text=Shooter",
            link: "#",
            likes: 124,
            reviews: [
                {user: "Player1", text: "–¢–æ–ø –∏–≥—Ä–∞!", reply: ""}
            ]
        }
    ];

    // --- –§–£–ù–ö–¶–ò–ò ---

    function saveGames() {
        localStorage.setItem('goodgame_games', JSON.stringify(games));
        renderGames();
    }

    // –õ–æ–≥–∏–∫–∞ –≤—Ö–æ–¥–∞
    function login() {
        const userIn = document.getElementById('usernameInput').value;
        const passIn = document.getElementById('passwordInput').value;
        
        if (!userIn) return alert("–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫!");

        // –ü–†–û–í–ï–†–ö–ê –ù–ê –ê–î–ú–ò–ù–ê
        const adminPass = "FHSWJDJWJDH@*&$*!@*(#@*dndnanmnasnd";
        
        if (userIn === "Admin" && passIn === adminPass) {
            isAdmin = true;
            alert("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, –°–æ–∑–¥–∞—Ç–µ–ª—å! –í–∫–ª—é—á–µ–Ω —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞.");
            document.getElementById('adminPanel').style.display = 'block';
        } else {
            isAdmin = false;
            document.getElementById('adminPanel').style.display = 'none';
        }

        currentUser = userIn;
        document.getElementById('userDisplay').innerText = currentUser;
        document.getElementById('loginModal').classList.add('hidden');
        renderGames();
    }

    function logout() {
        location.reload();
    }

    function openSupport() {
        let msg = prompt("–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É –ø—Ä–æ–±–ª–µ–º—É –¥–ª—è —Å–ª—É–∂–±—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏:");
        if (msg) {
            alert("–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ! –ù–æ–º–µ—Ä —Ç–∏–∫–µ—Ç–∞: #" + Math.floor(Math.random() * 10000));
        }
    }

    // –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∏–≥—Ä—ã (–¢–æ–ª—å–∫–æ –ê–¥–º–∏–Ω)
    function publishGame() {
        const title = document.getElementById('newGameTitle').value;
        const img = document.getElementById('newGameImg').value;
        const link = document.getElementById('newGameLink').value;
        const desc = document.getElementById('newGameDesc').value;

        if (!title || !link) return alert("–ù—É–∂–Ω–æ —Ö–æ—Ç—è –±—ã –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ —Å—Å—ã–ª–∫–∞!");

        const newGame = {
            id: Date.now(),
            title: title,
            img: img || "https://via.placeholder.com/300x160/000000/ffffff?text=No+Image", // –ó–∞–≥–ª—É—à–∫–∞, –µ—Å–ª–∏ –Ω–µ—Ç –∫–∞—Ä—Ç–∏–Ω–∫–∏
            link: link,
            desc: desc,
            likes: 0,
            reviews: []
        };

        games.unshift(newGame); // –î–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞—á–∞–ª–æ
        saveGames();
        
        // –û—á–∏—Å—Ç–∫–∞ –ø–æ–ª–µ–π
        document.getElementById('newGameTitle').value = "";
        document.getElementById('newGameImg').value = "";
        document.getElementById('newGameLink').value = "";
        document.getElementById('newGameDesc').value = "";
        
        alert("–ò–≥—Ä–∞ —É—Å–ø–µ—à–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞ –≤ –º–∞–≥–∞–∑–∏–Ω–µ!");
    }

    // –õ–∞–π–∫–Ω—É—Ç—å –∏–≥—Ä—É
    function likeGame(id) {
        const game = games.find(g => g.id === id);
        if (game) {
            game.likes++;
            saveGames();
        }
    }

    // –ù–∞–ø–∏—Å–∞—Ç—å –æ—Ç–∑—ã–≤
    function addReview(id) {
        const text = prompt("–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –æ—Ç–∑—ã–≤:");
        if (text) {
            const game = games.find(g => g.id === id);
            game.reviews.push({
                user: currentUser,
                text: text,
                reply: ""
            });
            saveGames();
        }
    }

    // –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –æ—Ç–∑—ã–≤ (–¢–æ–ª—å–∫–æ –ê–¥–º–∏–Ω)
    function replyToReview(gameId, reviewIndex) {
        if (!isAdmin) return;
        const text = prompt("–û—Ç–≤–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:");
        if (text) {
            games.find(g => g.id === gameId).reviews[reviewIndex].reply = text;
            saveGames();
        }
    }

    // –û–¢–†–ò–°–û–í–ö–ê –ò–ì–†
    function renderGames() {
        const container = document.getElementById('gamesContainer');
        container.innerHTML = "";

        games.forEach(game => {
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –¥–ª—è –æ—Ç–∑—ã–≤–æ–≤
            let reviewsHtml = "";
            game.reviews.forEach((rev, index) => {
                let replyButton = "";
                if (isAdmin && !rev.reply) {
                    replyButton = `<button style="font-size:10px; margin-left:5px;" onclick="replyToReview(${game.id}, ${index})">–û—Ç–≤–µ—Ç–∏—Ç—å</button>`;
                }
                
                let adminReplyHtml = rev.reply ? `<div class="admin-reply">üë®‚Äçüíª Dev: ${rev.reply}</div>` : "";

                reviewsHtml += `
                    <div class="review">
                        <strong>${rev.user}:</strong> ${rev.text} ${replyButton}
                        ${adminReplyHtml}
                    </div>
                `;
            });

            const card = document.createElement('div');
            card.className = 'game-card';
            card.innerHTML = `
                <img src="${game.img}" class="game-img" alt="${game.title}">
                <div class="game-info">
                    <h3 class="game-title">${game.title}</h3>
                    <p class="game-desc">${game.desc}</p>
                    <a href="${game.link}" class="play-btn" target="_blank">–ò–ì–†–ê–¢–¨</a>
                    
                    <div class="interactions">
                        <button class="like-btn" onclick="likeGame(${game.id})">üëç ${game.likes}</button>
                        <button class="like-btn" style="float:right" onclick="addReview(${game.id})">üí¨ –û—Ç–∑—ã–≤</button>
                    </div>
                    
                    <div class="reviews-section">
                        ${reviewsHtml || "<i>–ü–æ–∫–∞ –Ω–µ—Ç –æ—Ç–∑—ã–≤–æ–≤</i>"}
                    </div>
                </div>
            `;
            container.appendChild(card);
        });
    }

    // –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫
    renderGames();

</script>

</body>
</html>
